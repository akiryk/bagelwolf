---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const aboutEntries = await getCollection('about');
const about = aboutEntries[0];
const {
  title,
  processTitle,
  processBody,
  valuesTitle,
  values,
  photoImage,
  photoAlt,
  photoCaption,
} = about.data;
const { Content } = await about.render();
---

<BaseLayout
  title="About | Bagelwolf Bakery"
  description="Meet Adam Kiryk, the baker behind Bagelwolf. Learn about our traditional bagel-making process: homemade sourdough starter, hand-rolled technique, and 24-hour cold fermentation in Durango, Colorado."
>
  <!-- Intro Section -->
  <section class="py-16 md:py-20">
    <div class="max-w-3xl mx-auto px-4">
      <h1
        class="font-serif text-4xl md:text-5xl font-medium text-stone-900 mb-8 text-center"
      >
        {title}
      </h1>
      <div class="text-stone-600 text-lg leading-relaxed space-y-6">
        <Content />
      </div>
    </div>
  </section>

  <!-- Process Section -->
  <section class="bg-stone-50 py-16 md:py-20">
    <div class="max-w-3xl mx-auto px-4">
      <h2
        class="font-serif text-3xl md:text-4xl font-medium text-stone-900 mb-8 text-center"
      >
        {processTitle}
      </h2>
      <div class="text-stone-600 text-lg leading-relaxed space-y-6">
        {processBody.split('\n\n').map((paragraph) => (
          <p>{paragraph}</p>
        ))}
      </div>
    </div>
  </section>

  <!-- Values Section -->
  <section class="py-16 md:py-20">
    <div class="max-w-5xl mx-auto px-4">
      <h2
        class="font-serif text-3xl md:text-4xl font-medium text-stone-900 mb-10 text-center"
      >
        {valuesTitle}
      </h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
        {
          values.map((value) => (
            <div class="p-6 bg-stone-50 rounded-lg">
              <h3 class="text-lg font-semibold text-stone-900 mb-2">
                {value.title}
              </h3>
              <p class="text-stone-600">{value.description}</p>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Photo Section -->
  <section class="bg-stone-100 py-16 md:py-20">
    <div class="max-w-5xl mx-auto px-4 text-center">
      <img
        src={photoImage}
        alt={photoAlt}
        class="rounded-lg max-w-3xl mx-auto w-full"
      />
      <p class="mt-4 text-stone-600 text-sm">
        {photoCaption}
      </p>
    </div>
  </section>
</BaseLayout>
